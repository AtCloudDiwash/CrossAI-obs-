const a0_0x11fa59=a0_0xf379;(function(_0x59fc9b,_0x156c08){const _0x18dbf8=a0_0xf379,_0x2d8d48=_0x59fc9b();while(!![]){try{const _0x1a7bae=parseInt(_0x18dbf8(0x175))/0x1*(parseInt(_0x18dbf8(0x13e))/0x2)+parseInt(_0x18dbf8(0x164))/0x3*(parseInt(_0x18dbf8(0x16b))/0x4)+parseInt(_0x18dbf8(0x135))/0x5+-parseInt(_0x18dbf8(0x106))/0x6+-parseInt(_0x18dbf8(0x134))/0x7+-parseInt(_0x18dbf8(0xe3))/0x8*(parseInt(_0x18dbf8(0x11e))/0x9)+parseInt(_0x18dbf8(0x147))/0xa;if(_0x1a7bae===_0x156c08)break;else _0x2d8d48['push'](_0x2d8d48['shift']());}catch(_0x538ab3){_0x2d8d48['push'](_0x2d8d48['shift']());}}}(a0_0x4d22,0x8a789),console[a0_0x11fa59(0x127)](a0_0x11fa59(0x149)));const API_SERVER_ENDPOINT='https://crossaibackend.onrender.com/generate_echo';function findPlatform(_0x5b12f8){const _0x5c5b65=a0_0x11fa59;if(_0x5b12f8[_0x5c5b65(0x162)](_0x5c5b65(0x176)))return _0x5c5b65(0x152);else{if(_0x5b12f8[_0x5c5b65(0x162)](_0x5c5b65(0xd4)))return _0x5c5b65(0x128);else{if(_0x5b12f8[_0x5c5b65(0x162)](_0x5c5b65(0xff)))return _0x5c5b65(0xf5);}}return null;}const AI_PLATFORM=findPlatform(window[a0_0x11fa59(0xf4)][a0_0x11fa59(0xd8)]);function extractRelevantTitle(_0x5b5be9){const _0x1976a2=a0_0x11fa59,_0x543e34=_0x5b5be9[_0x1976a2(0x14d)](_0x1976a2(0x155)),_0x4a4b8b=_0x543e34!==-0x1?_0x5b5be9[_0x1976a2(0xc2)](0x0,_0x543e34):_0x5b5be9,_0x48cf85=_0x4a4b8b[_0x1976a2(0xc2)](0x0);if(_0x48cf85[_0x1976a2(0x15f)]>0x23)return _0x48cf85[_0x1976a2(0xc2)](0x0,0x23)+_0x1976a2(0x181);return _0x48cf85;}function formatNode(_0x43b0a8,_0x4a2565){const _0xdedab2=a0_0x11fa59;return _0x43b0a8+_0xdedab2(0x124)+_0x4a2565;}function a0_0xf379(_0x5e43ab,_0x37b9d1){_0x5e43ab=_0x5e43ab-0xc1;const _0x4d2227=a0_0x4d22();let _0xf3796e=_0x4d2227[_0x5e43ab];return _0xf3796e;}function getStorage(_0x5c64b3){return new Promise(_0x29428b=>{const _0x46e7a5=a0_0xf379;chrome['storage'][_0x46e7a5(0x180)]['get']([_0x5c64b3],_0x3e458f=>{const _0x47c2ed=_0x46e7a5,_0x2a569c=Array[_0x47c2ed(0x161)](_0x3e458f[_0x5c64b3])?_0x3e458f[_0x5c64b3]:[];_0x29428b(_0x2a569c);});});}function getStoredSummary(_0x89d804){const _0x41de22=a0_0x11fa59,_0x4365e0=_0x89d804+_0x41de22(0x105);return new Promise(_0x424ca1=>{const _0x21b614=_0x41de22;chrome['storage'][_0x21b614(0x180)][_0x21b614(0x184)]([_0x4365e0],_0x58d29e=>{const _0x3aa671=_0x58d29e[_0x4365e0]||null;_0x424ca1(_0x3aa671);});});}function deleteStorageForCurrentURL(){const _0x5824b3=a0_0x11fa59,_0x47f1ba=window[_0x5824b3(0xf4)][_0x5824b3(0xd8)];return console[_0x5824b3(0x127)](_0x47f1ba),new Promise(_0x1fdf9a=>{const _0x4cf8dd=_0x5824b3;chrome[_0x4cf8dd(0x12a)]['local']['remove'](_0x47f1ba,()=>{const _0x5b8033=_0x4cf8dd;console[_0x5b8033(0x127)]('Deleted\x20all\x20stored\x20data\x20for\x20URL:\x20'+_0x47f1ba),_0x1fdf9a(!![]);});});}function deleteStorage(_0x7a282d){return new Promise(_0x384bc6=>{const _0x1f9f1c=a0_0xf379;chrome[_0x1f9f1c(0x12a)][_0x1f9f1c(0x180)][_0x1f9f1c(0xf2)](_0x7a282d,()=>{const _0x35e598=_0x1f9f1c;console[_0x35e598(0x127)](_0x35e598(0x13a),_0x7a282d),_0x384bc6(!![]);});});}function insertIntoChromeStorage(_0x45b05d){const _0x126944=a0_0x11fa59,_0x438418=window[_0x126944(0xf4)][_0x126944(0xd8)];return new Promise(_0x3de411=>{const _0x31d56d=_0x126944;chrome[_0x31d56d(0x12a)][_0x31d56d(0x180)][_0x31d56d(0x184)]([_0x438418],_0x56e9cb=>{const _0x59668f=_0x31d56d,_0x234f9f=Array[_0x59668f(0x161)](_0x56e9cb[_0x438418])?_0x56e9cb[_0x438418]:[];if(_0x234f9f[_0x59668f(0x162)](_0x45b05d)){_0x3de411(![]);return;}const _0x3712cd=[..._0x234f9f,_0x45b05d];chrome[_0x59668f(0x12a)][_0x59668f(0x180)]['set']({[_0x438418]:_0x3712cd},()=>{const _0x3196fe=_0x59668f;console[_0x3196fe(0x127)](_0x3196fe(0xed),_0x45b05d['slice'](0x0,0x32)+'â€¦'),_0x3de411(!![]);});});});}async function insertSummaryIntoChromeStorage(_0x5ad5db,_0x4696d8){const _0x42f001=_0x4696d8+'\x20last_summary';return new Promise(_0x50a3fe=>{const _0x57ddf2=a0_0xf379;chrome[_0x57ddf2(0x12a)][_0x57ddf2(0x180)][_0x57ddf2(0x184)]([_0x42f001],_0x285da2=>{const _0x45d2a3=_0x57ddf2,_0x52c532=Array['isArray'](_0x285da2[_0x42f001])?_0x285da2[_0x42f001]:[];chrome[_0x45d2a3(0x12a)][_0x45d2a3(0x180)]['set']({[_0x42f001]:_0x5ad5db},()=>{const _0x4e4b1c=_0x45d2a3;console[_0x4e4b1c(0x127)](_0x4e4b1c(0x186)),_0x50a3fe(!![]);});});});}function existsInChromeStorage(_0x5c6fb8){const _0xa9f748=a0_0x11fa59,_0x51bcbe=window[_0xa9f748(0xf4)][_0xa9f748(0xd8)];return new Promise(_0x3a5fa4=>{const _0x1b4563=_0xa9f748;chrome[_0x1b4563(0x12a)][_0x1b4563(0x180)][_0x1b4563(0x184)]([_0x51bcbe],_0x36ac2d=>{const _0x1d0228=_0x1b4563,_0x4c28f4=Array[_0x1d0228(0x161)](_0x36ac2d[_0x51bcbe])?_0x36ac2d[_0x51bcbe]:[];_0x3a5fa4(_0x4c28f4[_0x1d0228(0x162)](_0x5c6fb8));});});}async function prepareSummary(_0x52be37){const _0x482197=a0_0x11fa59;console[_0x482197(0x127)](_0x482197(0x13b));const _0x188479=await getStorage(_0x52be37);if(!Array[_0x482197(0x161)](_0x188479)||_0x188479[_0x482197(0x15f)]===0x0)throw new Error(_0x482197(0x188));const _0x57858a=_0x188479[_0x482197(0x12e)]('\x0a\x0a');try{const _0x55f844=await fetch(API_SERVER_ENDPOINT,{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'text':_0x57858a})});if(!_0x55f844['ok'])throw new Error(_0x482197(0x120)+_0x55f844[_0x482197(0x168)]);const _0x408a7b=await _0x55f844[_0x482197(0x159)]();return _0x408a7b[_0x482197(0xdb)];}catch(_0x424ee1){console[_0x482197(0x12b)](_0x482197(0x15d),_0x424ee1);throw _0x424ee1;}}class WaitingQueue{constructor(){const _0x8b5e68=a0_0x11fa59;this['queue']=[],this[_0x8b5e68(0xe9)]='';}async[a0_0x11fa59(0x137)](_0x5b972e){const _0x3d6486=a0_0x11fa59;for(const _0x51d55c of _0x5b972e){const _0x1ae0c2=await existsInChromeStorage(_0x51d55c);!_0x1ae0c2&&!this[_0x3d6486(0x165)][_0x3d6486(0x162)](_0x51d55c)&&this[_0x3d6486(0x165)][_0x3d6486(0x14c)](_0x51d55c);}return this[_0x3d6486(0x165)];}async[a0_0x11fa59(0xc9)](_0xc8c202){const _0x438656=a0_0x11fa59,_0x1f6c95=await insertIntoChromeStorage(_0xc8c202);return _0x1f6c95&&(this[_0x438656(0x165)]=this[_0x438656(0x165)][_0x438656(0xd0)](_0x1e9ab6=>_0x1e9ab6!==_0xc8c202)),_0x1f6c95;}async[a0_0x11fa59(0xc8)](){const _0x455668=a0_0x11fa59;for(const _0x118abe of[...this[_0x455668(0x165)]]){await this[_0x455668(0xc9)](_0x118abe);}}[a0_0x11fa59(0xe0)](){const _0x109757=a0_0x11fa59;return this[_0x109757(0x165)];}[a0_0x11fa59(0xf3)](){const _0x4fad72=a0_0x11fa59,_0x2058e8=JSON[_0x4fad72(0x189)](this[_0x4fad72(0x165)]);if(_0x2058e8!==this['prevQueueSig'])return this[_0x4fad72(0xe9)]=_0x2058e8,!![];return![];}}const waitingQueueGPT=new WaitingQueue(),blockEvent=_0x4bb79d=>{const _0x44e85f=a0_0x11fa59;_0x4bb79d['preventDefault'](),_0x4bb79d[_0x44e85f(0x133)](),_0x4bb79d[_0x44e85f(0x107)]=![];},blockFocus=_0x50956d=>{const _0x53fe2e=a0_0x11fa59;_0x50956d[_0x53fe2e(0x169)]();};function getAIInputRoot(_0x104756){const _0xa3e3e8=a0_0x11fa59;if(_0x104756==='chatgpt')return document['getElementById'](_0xa3e3e8(0x10e));if(_0x104756===_0xa3e3e8(0xf5))return document[_0xa3e3e8(0x178)](_0xa3e3e8(0x14b));if(_0x104756==='claude')return document[_0xa3e3e8(0x178)](_0xa3e3e8(0x17a));return null;}function disableProseMirrorInput(_0x57c832){const _0x3e83ec=a0_0x11fa59,_0x4c27dc=getAIInputRoot(_0x57c832);if(!_0x4c27dc)return;_0x4c27dc[_0x3e83ec(0xc1)](_0x3e83ec(0x171),blockEvent,!![]),_0x4c27dc[_0x3e83ec(0xc1)](_0x3e83ec(0xd7),blockEvent,!![]),_0x4c27dc[_0x3e83ec(0xc1)](_0x3e83ec(0x179),blockEvent,!![]),_0x4c27dc[_0x3e83ec(0xc1)](_0x3e83ec(0x108),blockEvent,!![]),_0x4c27dc['addEventListener'](_0x3e83ec(0xc6),blockEvent,!![]),_0x4c27dc[_0x3e83ec(0xc1)](_0x3e83ec(0xdd),blockFocus,!![]),_0x4c27dc[_0x3e83ec(0xce)]();}function enableProseMirrorInput(_0x8b8711){const _0x4ced4b=a0_0x11fa59,_0x20945a=getAIInputRoot(_0x8b8711);if(!_0x20945a)return;_0x20945a[_0x4ced4b(0x17b)](_0x4ced4b(0x171),blockEvent,!![]),_0x20945a[_0x4ced4b(0x17b)](_0x4ced4b(0xd7),blockEvent,!![]),_0x20945a[_0x4ced4b(0x17b)]('keydown',blockEvent,!![]),_0x20945a[_0x4ced4b(0x17b)](_0x4ced4b(0x108),blockEvent,!![]),_0x20945a[_0x4ced4b(0x17b)](_0x4ced4b(0xc6),blockEvent,!![]),_0x20945a[_0x4ced4b(0x17b)]('focus',blockFocus,!![]);}function getPlatformIcons(_0x55bd52){const _0x3a66cc=a0_0x11fa59;let _0xcf791c,_0x42b7a6,_0x1e5c60,_0x1f66d5;_0x1e5c60=chrome['runtime'][_0x3a66cc(0x16e)](_0x3a66cc(0x17c)),_0x1f66d5=chrome['runtime'][_0x3a66cc(0x16e)](_0x3a66cc(0x100));if(_0x55bd52==='chatgpt')_0xcf791c=chrome['runtime'][_0x3a66cc(0x16e)](_0x3a66cc(0x17d)),_0x42b7a6=chrome[_0x3a66cc(0x12d)][_0x3a66cc(0x16e)](_0x3a66cc(0x151));else{if(_0x55bd52==='gemini')_0xcf791c=chrome['runtime']['getURL']('assets/gemini.svg'),_0x42b7a6=chrome['runtime'][_0x3a66cc(0x16e)](_0x3a66cc(0x10c));else _0x55bd52===_0x3a66cc(0x152)&&(_0xcf791c=chrome[_0x3a66cc(0x12d)][_0x3a66cc(0x16e)](_0x3a66cc(0xcd)),_0x42b7a6=chrome[_0x3a66cc(0x12d)][_0x3a66cc(0x16e)](_0x3a66cc(0xc5)));}return{'logoURL':_0xcf791c,'tickURL':_0x42b7a6,'crossURL':_0x1e5c60,'toggleLogoURL':_0x1f66d5};}function getSelector(_0xcfb64b){const _0x5afddd=a0_0x11fa59;if(_0xcfb64b==='chatgpt'){const _0x20189b=document['querySelectorAll']('article'),_0xe116aa=[..._0x20189b][_0x5afddd(0xd0)](_0x48059b=>_0x48059b[_0x5afddd(0x109)][_0x5afddd(0x14f)]===_0x5afddd(0xcc)),_0x5f5106=[..._0x20189b][_0x5afddd(0xd0)](_0x580193=>_0x580193[_0x5afddd(0x109)]['turn']===_0x5afddd(0xf9));return{'userCards':_0xe116aa,'assistantCards':_0x5f5106};}if(_0xcfb64b===_0x5afddd(0x152)){const _0x1c1acf=document[_0x5afddd(0xfb)](_0x5afddd(0xe8)),_0x408f02=[..._0x1c1acf][_0x5afddd(0xd0)]((_0x1df650,_0x3e9985)=>_0x3e9985%0x2===0x0),_0x1eef05=[..._0x1c1acf][_0x5afddd(0xd0)]((_0x5ec8ba,_0xa1a373)=>_0xa1a373%0x2!==0x0);return{'userCards':_0x408f02,'assistantCards':_0x1eef05};}if(_0xcfb64b===_0x5afddd(0xf5)){const _0x51f920=document[_0x5afddd(0xfb)](_0x5afddd(0xdf)),_0xa66f97=[..._0x51f920][_0x5afddd(0x16f)](_0x2fd58c=>_0x2fd58c[_0x5afddd(0x178)]('user-query')),_0x3e017c=[..._0x51f920][_0x5afddd(0x16f)](_0x2fbce4=>_0x2fbce4[_0x5afddd(0x178)](_0x5afddd(0x118)));return{'userCards':_0xa66f97,'assistantCards':_0x3e017c};}return{'userCards':[],'assistantCards':[]};}async function seekConversationNodeGPT(_0x6cc04b){const _0x16b18d=a0_0x11fa59,_0x549391=new Set(),{userCards:_0x4f0964,assistantCards:_0x1e8c58}=getSelector(_0x6cc04b),_0x447767=Math[_0x16b18d(0xcf)](_0x4f0964['length'],_0x1e8c58[_0x16b18d(0x15f)]);for(let _0x4cd1ce=0x0;_0x4cd1ce<_0x447767;_0x4cd1ce++){const _0xc000fb=_0x4f0964[_0x4cd1ce][_0x16b18d(0x11d)],_0x20fb5a=_0x1e8c58[_0x4cd1ce]['innerText'];if(!_0x20fb5a)continue;_0x549391['add'](formatNode(_0xc000fb,_0x20fb5a));}return await waitingQueueGPT['add'](_0x549391),_0x549391;}function createContextList(_0x4f098d){const _0x26eec9=a0_0x11fa59,{logoURL:_0x418288,tickURL:_0x2fb980,crossURL:_0x349428,toggleLogoURL:_0x554fe1}=getPlatformIcons(_0x4f098d);let _0x2aea4d=0x0,_0x427ae7=null;const _0x50fff6={'cardBg':_0x26eec9(0xfc),'textColor':_0x26eec9(0x182),'accentColor':_0x26eec9(0x117),'background':'#1F1D1D','contextTitleFontSize':_0x26eec9(0x113),'contextCounterFontSize':_0x26eec9(0x16c),'cardWidth':_0x26eec9(0x156)};function _0x5ae5ca(_0x5945ec,_0xe149f6){const _0x42c1b7=_0x26eec9,_0x3b64c5=document[_0x42c1b7(0xda)](_0x42c1b7(0x121)),_0x228e84=_0x5945ec[_0x42c1b7(0x10a)](_0x42c1b7(0x124)),_0x23ea04=_0x228e84[0x0]||'',_0x1f2002=_0x228e84[0x1]||'',_0x1939c2=Math[_0x42c1b7(0x14a)](_0x1f2002['length']/0x2),_0x654bd0=_0x1f2002[_0x42c1b7(0xc2)](0x0,_0x1939c2);let _0x368aba=![];Object['assign'](_0x3b64c5[_0x42c1b7(0xee)],{'background':_0x50fff6[_0x42c1b7(0x138)],'color':_0x50fff6['textColor'],'borderRadius':_0x42c1b7(0x143),'padding':_0x42c1b7(0x111),'width':_0x50fff6[_0x42c1b7(0x157)],'display':_0x42c1b7(0x154),'alignItems':_0x42c1b7(0x104),'justifyContent':'space-between','marginBottom':_0x42c1b7(0x185),'boxShadow':_0x42c1b7(0x15e),'opacity':'0','transform':'translateY(20px)','transition':_0x42c1b7(0x13f),'cursor':_0x42c1b7(0x146)}),requestAnimationFrame(()=>{const _0x4653a2=_0x42c1b7;_0x3b64c5[_0x4653a2(0xee)][_0x4653a2(0xc3)]='1',_0x3b64c5['style']['transform']=_0x4653a2(0xd3);});const _0x5d1775=document['createElement'](_0x42c1b7(0x121));Object[_0x42c1b7(0x144)](_0x5d1775['style'],{'display':_0x42c1b7(0x154),'gap':_0x42c1b7(0xd1),'alignItems':_0x42c1b7(0x104),'flex':'1'});const _0x36eff1=document['createElement']('img');_0x36eff1[_0x42c1b7(0x13c)]=_0x418288,Object[_0x42c1b7(0x144)](_0x36eff1['style'],{'width':'35px','height':_0x42c1b7(0x131),'objectFit':_0x42c1b7(0x110),'flexShrink':'0'});const _0x30015e=document[_0x42c1b7(0xda)](_0x42c1b7(0x121)),_0x12550f=document[_0x42c1b7(0xda)](_0x42c1b7(0x121));_0x12550f[_0x42c1b7(0xf1)]=extractRelevantTitle(_0x5945ec),Object[_0x42c1b7(0x144)](_0x12550f['style'],{'fontSize':_0x50fff6[_0x42c1b7(0xd9)],'fontWeight':_0x42c1b7(0x153),'maxWidth':_0x42c1b7(0xcb)});const _0x15b279=document[_0x42c1b7(0xda)](_0x42c1b7(0x121));_0x15b279['textContent']=_0x42c1b7(0x183)+_0xe149f6,Object[_0x42c1b7(0x144)](_0x15b279[_0x42c1b7(0xee)],{'fontSize':_0x42c1b7(0xf8),'color':_0x42c1b7(0xde),'marginTop':_0x42c1b7(0x10d)}),_0x30015e['appendChild'](_0x12550f),_0x30015e[_0x42c1b7(0x139)](_0x15b279),_0x5d1775['appendChild'](_0x36eff1),_0x5d1775[_0x42c1b7(0x139)](_0x30015e);const _0x35502b=document[_0x42c1b7(0xda)](_0x42c1b7(0x121));Object[_0x42c1b7(0x144)](_0x35502b[_0x42c1b7(0xee)],{'display':_0x42c1b7(0x154),'alignItems':_0x42c1b7(0x104),'gap':_0x42c1b7(0x16c),'flexShrink':'0'});const _0xfc048b=document[_0x42c1b7(0xda)]('img');_0xfc048b[_0x42c1b7(0x13c)]=_0x2fb980,Object['assign'](_0xfc048b[_0x42c1b7(0xee)],{'width':_0x42c1b7(0x10f),'height':'36px','padding':_0x42c1b7(0x10d),'cursor':_0x42c1b7(0x146)}),_0xfc048b[_0x42c1b7(0x115)]=_0x167c2b=>{const _0x1a8746=_0x42c1b7;_0x167c2b[_0x1a8746(0x133)](),waitingQueueGPT[_0x1a8746(0xc9)](_0x5945ec),Object[_0x1a8746(0x144)](_0x3b64c5[_0x1a8746(0xee)],{'opacity':'0','transform':'translateX(60px)'}),setTimeout(()=>_0x3b64c5[_0x1a8746(0xf2)](),0x12c);};const _0x2486ac=document['createElement']('img');_0x2486ac[_0x42c1b7(0x13c)]=_0x349428,Object[_0x42c1b7(0x144)](_0x2486ac[_0x42c1b7(0xee)],{'width':_0x42c1b7(0xfd),'height':_0x42c1b7(0xfd),'cursor':_0x42c1b7(0x146)}),_0x2486ac[_0x42c1b7(0x115)]=_0x37ce14=>{const _0x912c27=_0x42c1b7;_0x37ce14[_0x912c27(0x133)](),Object['assign'](_0x3b64c5[_0x912c27(0xee)],{'opacity':'0','transform':_0x912c27(0xd5)}),setTimeout(()=>_0x3b64c5[_0x912c27(0xf2)](),0x12c);},_0x35502b[_0x42c1b7(0x139)](_0xfc048b),_0x35502b[_0x42c1b7(0x139)](_0x2486ac),_0x3b64c5['appendChild'](_0x5d1775),_0x3b64c5['appendChild'](_0x35502b),_0x3b64c5[_0x42c1b7(0x115)]=()=>{_0x427ae7&&_0x427ae7!==_0x3b64c5&&_0x543f97(_0x427ae7),_0x368aba?_0x543f97(_0x3b64c5):_0x3ebf41(_0x3b64c5);};function _0x3ebf41(_0xafa1f0){const _0x4ceb2e=_0x42c1b7;_0x368aba=!![],_0x427ae7=_0xafa1f0;const _0x161517=document[_0x4ceb2e(0xda)](_0x4ceb2e(0x121));Object[_0x4ceb2e(0x144)](_0x161517['style'],{'fontSize':_0x4ceb2e(0x163),'color':_0x4ceb2e(0xc4),'marginTop':_0x4ceb2e(0x113),'paddingTop':_0x4ceb2e(0x113),'borderTop':_0x4ceb2e(0xe5),'maxHeight':_0x4ceb2e(0x16d),'overflowY':_0x4ceb2e(0x15a),'lineHeight':_0x4ceb2e(0xeb),'whiteSpace':_0x4ceb2e(0xc7),'wordWrap':_0x4ceb2e(0xf0)}),_0x161517[_0x4ceb2e(0xf1)]=_0x654bd0,_0x161517[_0x4ceb2e(0x15b)][_0x4ceb2e(0x137)](_0x4ceb2e(0x16a)),_0xafa1f0[_0x4ceb2e(0x139)](_0x161517),_0xafa1f0[_0x4ceb2e(0xee)][_0x4ceb2e(0x150)]=_0x4ceb2e(0x167),_0xafa1f0[_0x4ceb2e(0xee)][_0x4ceb2e(0x116)]=_0x4ceb2e(0x141);}function _0x543f97(_0x391112){const _0x209493=_0x42c1b7;_0x368aba=![];const _0x4121ec=_0x391112[_0x209493(0x178)](_0x209493(0x172));_0x4121ec&&_0x4121ec[_0x209493(0xf2)](),_0x391112[_0x209493(0xee)]['minHeight']=_0x209493(0x15a),_0x427ae7===_0x391112&&(_0x427ae7=null);}return _0x3b64c5;}const _0x2e60ec=document['createElement'](_0x26eec9(0x121));Object[_0x26eec9(0x144)](_0x2e60ec[_0x26eec9(0xee)],{'background':_0x26eec9(0x130),'padding':_0x26eec9(0x140),'height':_0x26eec9(0x122),'maxHeight':_0x26eec9(0x122),'width':_0x26eec9(0x142),'display':_0x26eec9(0x15c),'overflowX':_0x26eec9(0x102),'overflowY':_0x26eec9(0xec),'position':_0x26eec9(0x136),'top':'50%','right':_0x26eec9(0x11c),'transform':'translateY(0)\x20scale(0.92)','opacity':'0','pointerEvents':_0x26eec9(0xef),'zIndex':_0x26eec9(0x12f),'borderRadius':'24px','transition':_0x26eec9(0x119)}),document[_0x26eec9(0xfa)][_0x26eec9(0x139)](_0x2e60ec);let _0x1bde61=![];function _0x201ec3(){const _0x288b40=_0x26eec9;_0x1bde61=!_0x1bde61,_0x1bde61?(scrollListenerActive=!![],_0x2e60ec[_0x288b40(0xee)][_0x288b40(0x150)]='transform\x200.5s\x20cubic-bezier(0.4,\x200.0,\x200.2,\x201),\x20opacity\x200.3s\x20ease',_0x2e60ec[_0x288b40(0xee)][_0x288b40(0x123)]=_0x288b40(0x17f),_0x2e60ec[_0x288b40(0xee)]['transform']=_0x288b40(0x11a),_0x2e60ec[_0x288b40(0xee)][_0x288b40(0xc3)]=_0x288b40(0x14e),_0x2e60ec['style']['pointerEvents']=_0x288b40(0x15a),requestAnimationFrame(()=>{const _0x632232=_0x288b40;_0x2e60ec['style'][_0x632232(0x160)]='translateY(-50%)\x20translateX(0)\x20scale(1)',_0x2e60ec[_0x632232(0xee)][_0x632232(0xc3)]='1';}),disableProseMirrorInput(AI_PLATFORM)):(scrollListenerActive=![],_0x2e60ec[_0x288b40(0xee)][_0x288b40(0x150)]=_0x288b40(0x11f),_0x2e60ec[_0x288b40(0xee)]['transformOrigin']='bottom\x20right',_0x2e60ec[_0x288b40(0xee)]['transform']=_0x288b40(0x11a),_0x2e60ec['style'][_0x288b40(0xc3)]='0',setTimeout(()=>{const _0x93a38a=_0x288b40;_0x2e60ec['style'][_0x93a38a(0xe4)]=_0x93a38a(0xef),_0x2e60ec[_0x93a38a(0xee)][_0x93a38a(0x160)]='translateY(0)\x20scale(0.92)';},0x1f4),enableProseMirrorInput(AI_PLATFORM));}const _0x288197=document[_0x26eec9(0xda)](_0x26eec9(0x121));Object[_0x26eec9(0x144)](_0x288197['style'],{'position':'fixed','bottom':'22px','right':'28px','width':'60px','height':'60px','borderRadius':_0x26eec9(0x187),'cursor':_0x26eec9(0x146),'zIndex':'99999'});const _0x5a1d09=document['createElement'](_0x26eec9(0x114));return _0x5a1d09['src']=_0x554fe1,Object[_0x26eec9(0x144)](_0x5a1d09[_0x26eec9(0xee)],{'width':_0x26eec9(0xf6),'height':_0x26eec9(0xf6),'objectFit':_0x26eec9(0x110)}),_0x288197[_0x26eec9(0x139)](_0x5a1d09),document[_0x26eec9(0xfa)]['appendChild'](_0x288197),_0x288197[_0x26eec9(0x115)]=_0x201ec3,{'container':_0x2e60ec,'createCard':_0x5ae5ca};}let buttonCounter=0x0,snapShot=[],scrollListenerActive=![];const {container,createCard}=createContextList(AI_PLATFORM),fetchAvailableContext=async()=>{const _0x131277=a0_0x11fa59;if(!scrollListenerActive)return;const _0x39f46b=window[_0x131277(0xf4)]['href'];await seekConversationNodeGPT(findPlatform(_0x39f46b));if(waitingQueueGPT[_0x131277(0xf3)]()){const _0x59043b=waitingQueueGPT[_0x131277(0xe0)](),_0x280a00=_0x59043b[_0x131277(0xd0)](_0x1fe048=>!snapShot['includes'](_0x1fe048));snapShot=[..._0x59043b],buttonCounter=_0x280a00[_0x131277(0x15f)];for(let _0x2a7445=0x0;_0x2a7445<buttonCounter;_0x2a7445++){container[_0x131277(0x139)](createCard(_0x280a00[_0x2a7445],_0x2a7445+0x1));}}};function a0_0x4d22(){const _0x57a8f1=['\x20last_summary','6321390wDjwbq','returnValue','paste','dataset','split','addRange','assets/save_gemini.svg','6px','prompt-textarea','36px','contain','20px\x2010px','\x20with\x20selector:\x20','15px','img','onclick','minHeight','#4f7cff','model-response','all\x200.45s\x20cubic-bezier(.22,.61,.36,1)','translateY(calc(50vh\x20-\x2050%))\x20translateX(0)\x20scale(0.05)','Place\x20cursor\x20error:','20px','innerText','32778xluMDm','transform\x200.5s\x20cubic-bezier(0.4,\x200.0,\x200.2,\x201),\x20opacity\x200.3s\x20ease\x200.2s','API\x20request\x20failed\x20with\x20status\x20','div','60vh','transformOrigin','\x20|Response->|\x20','Was\x20summary\x20stored?','Failed\x20to\x20inject\x20code:','log','chatgpt','then','storage','error','injectRaw','runtime','join','99998','rgba(0,\x200,\x200,\x200.65)','35px','clear','stopPropagation','2291359IYBnMu','3537825HArnnj','fixed','add','cardBg','appendChild','All\x20deleted\x20from\x20','Getting\x20you\x20summary\x20........','src','setSelectionRange','870890LBufAA','all\x200.35s\x20ease','30px\x2020px','300px','490px','24px','assign','Here\x20is\x20some\x20persistent\x20user\x20context\x20you\x20should\x20always\x20consider:\x0a\x0a','pointer','17013720xnOHOe','change','Content.js\x20loaded','floor','rich-textarea\x20.ql-editor','push','indexOf','0.3','turn','transition','assets/save_chatgpt.svg','claude','400','flex','|Response->|','450px','cardWidth','action','json','auto','classList','inline-block','Error\x20in\x20prepareSummary:','0\x204px\x2020px\x20rgba(0,0,0,0.35)','length','transform','isArray','includes','12px','53517JjVHNM','queue','isContentEditable','all\x200.4s\x20ease','status','preventDefault','expanded-content','4AnXHqd','10px','200px','getURL','map','trim','beforeinput','.expanded-content','div.ql-editor.textarea[contenteditable=\x27true\x27]','warn','1fGCsrB','claude.ai','injectLastSummary','querySelector','keydown','div.root\x20[role=\x27textbox\x27]','removeEventListener','assets/cross.svg','assets/chatgpt.svg','Get\x20editor\x20error:','bottom\x20right','local','...','#ffffff','Context:\x20','get','13px','Summary\x20stored','50%','No\x20nodes\x20found\x20in\x20storage\x20for\x20this\x20URL','stringify','addEventListener','substring','opacity','#d0d0d0','assets/save_claude.svg','drop','pre-wrap','flush','releaseToStorage','createRange','480px','user','assets/claude.svg','blur','min','filter','18px','selectNodeContents','translateY(0)','chatgpt.com','scale(0.85)','Inject\x20Raw','input','href','contextTitleFontSize','createElement','result','Set\x20input\x20text\x20error:','focus','#9d9ea2','#chat-history\x20infinite-scroller\x20>\x20div:has(user-query):has(model-response)','getQueue','value','div[contenteditable=\x22true\x22][data-testid=\x22chat-input\x22]','2008Qraxin','pointerEvents','1px\x20solid\x20#333','payload','#prompt-textarea','body\x20>\x20div.root\x20>\x20div\x20>\x20div.w-full.relative.min-w-0\x20>\x20div\x20>\x20div.h-full.flex.flex-col.overflow-hidden\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div.flex-1.flex.flex-col.px-4.max-w-3xl.mx-auto.w-full.pt-1\x20>\x20div[data-test-render-count]','prevQueueSig','dispatchEvent','1.5','scroll','Saved\x20new\x20node:','style','none','break-word','textContent','remove','hasChanged','location','gemini','100%','Got\x20stored\x20summary:','16px','assistant','body','querySelectorAll','#111','26px','prepareSummary','gemini.google.com','assets/crossai.svg','removeAllRanges','hidden','url','center'];a0_0x4d22=function(){return _0x57a8f1;};return a0_0x4d22();}document['addEventListener'](a0_0x11fa59(0xec),fetchAvailableContext,!![]),chrome[a0_0x11fa59(0x12d)]['onMessage']['addListener']((_0x132f0b,_0xbe5a43,_0x57493e)=>{const _0x5885d2=a0_0x11fa59;if(_0x132f0b['action']==_0x5885d2(0x12c))console[_0x5885d2(0x127)](_0x5885d2(0xd6)),injectCode(_0x132f0b['url']);else{if(_0x132f0b[_0x5885d2(0x158)]==_0x5885d2(0xfe))return injectSummary(_0x132f0b[_0x5885d2(0x103)])[_0x5885d2(0x129)](()=>{_0x57493e({'success':!![]});})['catch'](()=>{_0x57493e({'success':![]});}),!![];else{if(_0x132f0b[_0x5885d2(0x158)]==_0x5885d2(0x132))return deleteStorage(_0x132f0b[_0x5885d2(0xe6)]['url']),!![];else{if(_0x132f0b['action']==_0x5885d2(0x177))return injectLastSummary(_0x132f0b['url']),!![];}}}});function getEditor(_0x8aebe6){const _0x3c1852=a0_0x11fa59;try{let _0x367b73='';switch(_0x8aebe6){case _0x3c1852(0x128):_0x367b73=_0x3c1852(0xe7);break;case _0x3c1852(0x152):_0x367b73=_0x3c1852(0xe2);break;case _0x3c1852(0xf5):_0x367b73=_0x3c1852(0x173);break;}const _0x23448e=document['querySelector'](_0x367b73);return!_0x23448e&&console[_0x3c1852(0x174)]('Editor\x20not\x20found\x20for\x20'+_0x8aebe6+_0x3c1852(0x112)+_0x367b73),_0x23448e;}catch(_0x3bd1b0){return console['error'](_0x3c1852(0x17e),_0x3bd1b0),null;}}function injectContext(_0x1d8ace,_0x5d36a0){const _0x1e60e7=a0_0x11fa59;try{const _0x171872=getEditor(_0x1d8ace);if(!_0x171872)return;const _0x96e6e8=getInputText(_0x171872),_0x30ef2b=_0x1e60e7(0x145)+_0x5d36a0+'\x0a\x0aUser\x27s\x20query:\x0a\x0a'+_0x96e6e8;setInputText(_0x171872,_0x30ef2b),placeCursorAtEnd(_0x171872);}catch(_0x154c6c){console[_0x1e60e7(0x12b)]('Failed\x20to\x20inject\x20context:',_0x154c6c);}}function getInputText(_0x3000c0){const _0x41a466=a0_0x11fa59;try{if(!_0x3000c0)return'';if(_0x3000c0[_0x41a466(0x166)])return _0x3000c0[_0x41a466(0x11d)]?.['trim']()||'';return _0x3000c0[_0x41a466(0xe1)]?.[_0x41a466(0x170)]()||'';}catch(_0xc86613){return console[_0x41a466(0x174)]('Get\x20input\x20text\x20error:',_0xc86613),'';}}function setInputText(_0x1e1d1d,_0x4d313d){const _0x3c9a9e=a0_0x11fa59;try{if(!_0x1e1d1d)return;if(_0x1e1d1d[_0x3c9a9e(0x166)]){_0x1e1d1d[_0x3c9a9e(0x11d)]=_0x4d313d;const _0x93fa40=new Event(_0x3c9a9e(0xd7),{'bubbles':!![]});_0x1e1d1d['dispatchEvent'](_0x93fa40);return;}_0x1e1d1d[_0x3c9a9e(0xe1)]=_0x4d313d;const _0x32f442=new Event(_0x3c9a9e(0xd7),{'bubbles':!![]}),_0x2cbc3d=new Event(_0x3c9a9e(0x148),{'bubbles':!![]});_0x1e1d1d[_0x3c9a9e(0xea)](_0x32f442),_0x1e1d1d[_0x3c9a9e(0xea)](_0x2cbc3d);}catch(_0x36de59){console[_0x3c9a9e(0x12b)](_0x3c9a9e(0xdc),_0x36de59);}}function placeCursorAtEnd(_0x16a725){const _0x552bed=a0_0x11fa59;try{if(!_0x16a725)return;_0x16a725[_0x552bed(0xdd)]();if(_0x16a725[_0x552bed(0x166)]){const _0x11a4ad=document[_0x552bed(0xca)](),_0x18481d=window['getSelection']();_0x11a4ad[_0x552bed(0xd2)](_0x16a725),_0x11a4ad['collapse'](![]),_0x18481d[_0x552bed(0x101)](),_0x18481d[_0x552bed(0x10b)](_0x11a4ad);return;}if(_0x16a725['setSelectionRange']){const _0x1c6d7d=_0x16a725[_0x552bed(0xe1)]['length'];_0x16a725[_0x552bed(0x13d)](_0x1c6d7d,_0x1c6d7d);}}catch(_0x2c14d5){console[_0x552bed(0x174)](_0x552bed(0x11b),_0x2c14d5);}}async function injectCode(_0xe79f1d){const _0x43c30c=a0_0x11fa59;try{const _0x245ead=await getStorage(_0xe79f1d);injectContext(AI_PLATFORM,_0x245ead[_0x43c30c(0x12e)](''));}catch(_0x44d8c3){console[_0x43c30c(0x12b)](_0x43c30c(0x126),_0x44d8c3);}}async function injectSummary(_0x4c114a){const _0x222772=a0_0x11fa59;try{const _0x18b5da=await prepareSummary(_0x4c114a),_0x292801=await insertSummaryIntoChromeStorage(_0x18b5da,_0x4c114a);console[_0x222772(0x127)](_0x222772(0x125),_0x292801);const _0x1287ab=await getStoredSummary(_0x4c114a);console[_0x222772(0x127)](_0x222772(0xf7),_0x1287ab),injectContext(AI_PLATFORM,_0x1287ab);}catch(_0x55611e){console['error'](_0x222772(0x126),_0x55611e);}}async function injectLastSummary(_0x201503){const _0x586256=a0_0x11fa59;try{const _0x244448=await getStoredSummary(_0x201503);injectContext(AI_PLATFORM,_0x244448);}catch(_0x32e0c8){console[_0x586256(0x12b)](_0x586256(0x126),_0x32e0c8);}}