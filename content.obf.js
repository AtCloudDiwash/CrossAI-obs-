const a0_0x3f5b8c=a0_0xf5d5;(function(_0x394f36,_0x4b56a2){const _0x1e5a99=a0_0xf5d5,_0x34ff8e=_0x394f36();while(!![]){try{const _0x30215d=-parseInt(_0x1e5a99(0x1dc))/0x1+-parseInt(_0x1e5a99(0x16a))/0x2*(parseInt(_0x1e5a99(0x1e1))/0x3)+-parseInt(_0x1e5a99(0x1c2))/0x4*(parseInt(_0x1e5a99(0x168))/0x5)+-parseInt(_0x1e5a99(0x20f))/0x6*(-parseInt(_0x1e5a99(0x172))/0x7)+-parseInt(_0x1e5a99(0x18a))/0x8+parseInt(_0x1e5a99(0x1ec))/0x9+-parseInt(_0x1e5a99(0x1b9))/0xa*(-parseInt(_0x1e5a99(0x19c))/0xb);if(_0x30215d===_0x4b56a2)break;else _0x34ff8e['push'](_0x34ff8e['shift']());}catch(_0x5b4c04){_0x34ff8e['push'](_0x34ff8e['shift']());}}}(a0_0x3726,0x5bf8a),console[a0_0x3f5b8c(0x1a2)](a0_0x3f5b8c(0x212)));function findPlatform(_0xfa844e){const _0x1920fa=a0_0x3f5b8c;if(_0xfa844e[_0x1920fa(0x1a6)](_0x1920fa(0x1f1)))return'claude';else{if(_0xfa844e[_0x1920fa(0x1a6)](_0x1920fa(0x188)))return _0x1920fa(0x16b);else{if(_0xfa844e['includes'](_0x1920fa(0x169)))return _0x1920fa(0x1b5);}}return null;}const AI_PLATFORM=findPlatform(window[a0_0x3f5b8c(0x14f)][a0_0x3f5b8c(0x158)]);function extractRelevantTitle(_0x31ba78){const _0x33815a=a0_0x3f5b8c,_0xffc860=_0x31ba78[_0x33815a(0x154)](_0x33815a(0x16f)),_0x3c1a25=_0xffc860!==-0x1?_0x31ba78[_0x33815a(0x189)](0x0,_0xffc860):_0x31ba78,_0x3c269a=_0x3c1a25[_0x33815a(0x189)](0x0);if(_0x3c269a[_0x33815a(0x1ac)]>0x23)return _0x3c269a[_0x33815a(0x189)](0x0,0x23)+'...';return _0x3c269a;}function formatNode(_0x5134bd,_0x363bfb){const _0x2f82b3=a0_0x3f5b8c;return _0x5134bd+_0x2f82b3(0x174)+_0x363bfb;}function getStorage(_0x520f3e){return new Promise(_0x348e11=>{const _0x54289f=a0_0xf5d5;chrome['storage'][_0x54289f(0x20a)]['get']([_0x520f3e],_0xce7188=>{const _0x1e328b=_0x54289f,_0xf86a6b=Array[_0x1e328b(0x1f7)](_0xce7188[_0x520f3e])?_0xce7188[_0x520f3e]:[];_0x348e11(_0xf86a6b);});});}function getStoredSummary(_0xded0c0){const _0x3a2388=_0xded0c0+'\x20last_summary';return new Promise(_0x2136f6=>{const _0x2d288c=a0_0xf5d5;chrome['storage'][_0x2d288c(0x20a)][_0x2d288c(0x183)]([_0x3a2388],_0x58da14=>{const _0x50c5bb=_0x58da14[_0x3a2388]||null;_0x2136f6(_0x50c5bb);});});}function deleteStorageForCurrentURL(){const _0x48eecd=a0_0x3f5b8c,_0x201d84=window[_0x48eecd(0x14f)][_0x48eecd(0x158)];return console['log'](_0x201d84),new Promise(_0x198642=>{const _0x27f6ec=_0x48eecd;chrome[_0x27f6ec(0x1ae)][_0x27f6ec(0x20a)]['remove'](_0x201d84,()=>{const _0x2d9fb0=_0x27f6ec;console[_0x2d9fb0(0x1a2)](_0x2d9fb0(0x1ce)+_0x201d84),_0x198642(!![]);});});}function deleteStorage(_0x2cf17b){return new Promise(_0x1b8940=>{const _0x29a7e5=a0_0xf5d5;chrome[_0x29a7e5(0x1ae)]['local'][_0x29a7e5(0x1ff)](_0x2cf17b,()=>{const _0x43ba24=_0x29a7e5;console[_0x43ba24(0x1a2)](_0x43ba24(0x14e),_0x2cf17b),_0x1b8940(!![]);});});}function insertIntoChromeStorage(_0x3cdd78){const _0x2e883c=a0_0x3f5b8c,_0xc94ec7=window[_0x2e883c(0x14f)][_0x2e883c(0x158)];return new Promise(_0x340c77=>{const _0x11c8bd=_0x2e883c;chrome[_0x11c8bd(0x1ae)]['local'][_0x11c8bd(0x183)]([_0xc94ec7],_0x55f589=>{const _0x23d233=_0x11c8bd,_0xd3e7b2=Array[_0x23d233(0x1f7)](_0x55f589[_0xc94ec7])?_0x55f589[_0xc94ec7]:[];if(_0xd3e7b2['includes'](_0x3cdd78)){_0x340c77(![]);return;}const _0x5b0fa1=[..._0xd3e7b2,_0x3cdd78];chrome[_0x23d233(0x1ae)][_0x23d233(0x20a)][_0x23d233(0x1e3)]({[_0xc94ec7]:_0x5b0fa1},()=>{const _0x279576=_0x23d233;console[_0x279576(0x1a2)](_0x279576(0x195),_0x3cdd78[_0x279576(0x18d)](0x0,0x32)+'â€¦'),_0x340c77(!![]);});});});}async function insertSummaryIntoChromeStorage(_0xc78497,_0x1424cf){const _0x3c4562=a0_0x3f5b8c,_0x109d9b=_0x1424cf+_0x3c4562(0x164);return new Promise(_0x440149=>{const _0x2a4942=_0x3c4562;chrome[_0x2a4942(0x1ae)]['local'][_0x2a4942(0x183)]([_0x109d9b],_0x3ca00a=>{const _0x1dd5c9=_0x2a4942,_0x2a8fd8=Array[_0x1dd5c9(0x1f7)](_0x3ca00a[_0x109d9b])?_0x3ca00a[_0x109d9b]:[];chrome[_0x1dd5c9(0x1ae)][_0x1dd5c9(0x20a)][_0x1dd5c9(0x1e3)]({[_0x109d9b]:_0xc78497},()=>{const _0x2476a0=_0x1dd5c9;console[_0x2476a0(0x1a2)]('Summary\x20stored'),_0x440149(!![]);});});});}function a0_0xf5d5(_0x55c12a,_0x33f570){_0x55c12a=_0x55c12a-0x14d;const _0x372642=a0_0x3726();let _0xf5d581=_0x372642[_0x55c12a];return _0xf5d581;}function existsInChromeStorage(_0x6c6633){const _0x17844a=a0_0x3f5b8c,_0x198e8a=window[_0x17844a(0x14f)][_0x17844a(0x158)];return new Promise(_0x319116=>{const _0x4a01f2=_0x17844a;chrome['storage'][_0x4a01f2(0x20a)][_0x4a01f2(0x183)]([_0x198e8a],_0x3636aa=>{const _0x261825=_0x4a01f2,_0x572a3d=Array[_0x261825(0x1f7)](_0x3636aa[_0x198e8a])?_0x3636aa[_0x198e8a]:[];_0x319116(_0x572a3d[_0x261825(0x1a6)](_0x6c6633));});});}async function prepareSummary(_0x6362ee){const _0xfb42de=a0_0x3f5b8c;console[_0xfb42de(0x1a2)](_0xfb42de(0x1c9));const _0x2613af=await getStorage(_0x6362ee);if(!Array[_0xfb42de(0x1f7)](_0x2613af)||_0x2613af[_0xfb42de(0x1ac)]===0x0)throw new Error(_0xfb42de(0x1ad));const _0x103844=_0x2613af[_0xfb42de(0x199)]('\x0a\x0a');try{const _0x53ae0d=await fetch('http://127.0.0.1:8000/generate_echo',{'method':_0xfb42de(0x1a3),'headers':{'Content-Type':_0xfb42de(0x1c5)},'body':JSON['stringify']({'text':_0x103844})});if(!_0x53ae0d['ok'])throw new Error(_0xfb42de(0x15c)+_0x53ae0d[_0xfb42de(0x1fc)]);const _0x2d4a9c=await _0x53ae0d[_0xfb42de(0x1c7)]();return _0x2d4a9c[_0xfb42de(0x19d)];}catch(_0x3d8c5f){console['error'](_0xfb42de(0x1dd),_0x3d8c5f);throw _0x3d8c5f;}}class WaitingQueue{constructor(){const _0x45536b=a0_0x3f5b8c;this[_0x45536b(0x1d4)]=[],this[_0x45536b(0x1c4)]='';}async[a0_0x3f5b8c(0x1c3)](_0x52a35e){const _0x2de839=a0_0x3f5b8c;for(const _0x11fd1e of _0x52a35e){const _0x46956b=await existsInChromeStorage(_0x11fd1e);!_0x46956b&&!this[_0x2de839(0x1d4)][_0x2de839(0x1a6)](_0x11fd1e)&&this[_0x2de839(0x1d4)]['push'](_0x11fd1e);}return this[_0x2de839(0x1d4)];}async[a0_0x3f5b8c(0x1e5)](_0x1b80e2){const _0x19e6f4=a0_0x3f5b8c,_0x227f6d=await insertIntoChromeStorage(_0x1b80e2);return _0x227f6d&&(this['queue']=this[_0x19e6f4(0x1d4)]['filter'](_0x4ecfe7=>_0x4ecfe7!==_0x1b80e2)),_0x227f6d;}async[a0_0x3f5b8c(0x1ab)](){const _0x5d4b04=a0_0x3f5b8c;for(const _0x2477db of[...this[_0x5d4b04(0x1d4)]]){await this[_0x5d4b04(0x1e5)](_0x2477db);}}[a0_0x3f5b8c(0x167)](){const _0x12b665=a0_0x3f5b8c;return this[_0x12b665(0x1d4)];}[a0_0x3f5b8c(0x1d8)](){const _0x27597c=a0_0x3f5b8c,_0x31cd96=JSON[_0x27597c(0x1de)](this['queue']);if(_0x31cd96!==this[_0x27597c(0x1c4)])return this[_0x27597c(0x1c4)]=_0x31cd96,!![];return![];}}const waitingQueueGPT=new WaitingQueue(),blockEvent=_0x19c538=>{const _0x1b36ec=a0_0x3f5b8c;_0x19c538['preventDefault'](),_0x19c538[_0x1b36ec(0x20d)](),_0x19c538[_0x1b36ec(0x157)]=![];},blockFocus=_0x33a040=>{_0x33a040['preventDefault']();};function getAIInputRoot(_0xc46d09){const _0x4f8760=a0_0x3f5b8c;if(_0xc46d09==='chatgpt')return document[_0x4f8760(0x1f9)]('prompt-textarea');if(_0xc46d09===_0x4f8760(0x1b5))return document[_0x4f8760(0x1f6)](_0x4f8760(0x1d6));if(_0xc46d09==='claude')return document[_0x4f8760(0x1f6)](_0x4f8760(0x1f3));return null;}function disableProseMirrorInput(_0x1b4086){const _0x3cb4db=a0_0x3f5b8c,_0x4a1c31=getAIInputRoot(_0x1b4086);if(!_0x4a1c31)return;_0x4a1c31[_0x3cb4db(0x152)]('beforeinput',blockEvent,!![]),_0x4a1c31[_0x3cb4db(0x152)](_0x3cb4db(0x175),blockEvent,!![]),_0x4a1c31[_0x3cb4db(0x152)](_0x3cb4db(0x211),blockEvent,!![]),_0x4a1c31[_0x3cb4db(0x152)](_0x3cb4db(0x200),blockEvent,!![]),_0x4a1c31['addEventListener'](_0x3cb4db(0x1ca),blockEvent,!![]),_0x4a1c31[_0x3cb4db(0x152)](_0x3cb4db(0x1e8),blockFocus,!![]),_0x4a1c31['blur']();}function enableProseMirrorInput(_0x40b1f2){const _0x2e2c56=a0_0x3f5b8c,_0x2c9de5=getAIInputRoot(_0x40b1f2);if(!_0x2c9de5)return;_0x2c9de5[_0x2e2c56(0x15a)](_0x2e2c56(0x1e0),blockEvent,!![]),_0x2c9de5[_0x2e2c56(0x15a)](_0x2e2c56(0x175),blockEvent,!![]),_0x2c9de5['removeEventListener'](_0x2e2c56(0x211),blockEvent,!![]),_0x2c9de5[_0x2e2c56(0x15a)](_0x2e2c56(0x200),blockEvent,!![]),_0x2c9de5['removeEventListener'](_0x2e2c56(0x1ca),blockEvent,!![]),_0x2c9de5[_0x2e2c56(0x15a)](_0x2e2c56(0x1e8),blockFocus,!![]);}function getPlatformIcons(_0x1e8914){const _0x13cd58=a0_0x3f5b8c;let _0x1cb30b,_0xabf1fe,_0x174d81,_0x221cc8;_0x174d81=chrome[_0x13cd58(0x162)][_0x13cd58(0x1df)](_0x13cd58(0x151)),_0x221cc8=chrome['runtime']['getURL']('assets/crossai.svg');if(_0x1e8914==='chatgpt')_0x1cb30b=chrome[_0x13cd58(0x162)][_0x13cd58(0x1df)](_0x13cd58(0x19b)),_0xabf1fe=chrome['runtime'][_0x13cd58(0x1df)]('assets/save_chatgpt.svg');else{if(_0x1e8914===_0x13cd58(0x1b5))_0x1cb30b=chrome[_0x13cd58(0x162)][_0x13cd58(0x1df)](_0x13cd58(0x19a)),_0xabf1fe=chrome[_0x13cd58(0x162)]['getURL']('assets/save_gemini.svg');else _0x1e8914===_0x13cd58(0x1f2)&&(_0x1cb30b=chrome[_0x13cd58(0x162)]['getURL'](_0x13cd58(0x1fe)),_0xabf1fe=chrome[_0x13cd58(0x162)][_0x13cd58(0x1df)]('assets/save_claude.svg'));}return{'logoURL':_0x1cb30b,'tickURL':_0xabf1fe,'crossURL':_0x174d81,'toggleLogoURL':_0x221cc8};}function getSelector(_0x33fd2a){const _0x36b765=a0_0x3f5b8c;if(_0x33fd2a==='chatgpt'){const _0x22ff09=document[_0x36b765(0x165)](_0x36b765(0x191)),_0x1d1fe0=[..._0x22ff09]['filter'](_0x1ec9c7=>_0x1ec9c7[_0x36b765(0x208)][_0x36b765(0x1e6)]==='user'),_0x3016a5=[..._0x22ff09][_0x36b765(0x1e2)](_0x5c5b45=>_0x5c5b45[_0x36b765(0x208)]['turn']===_0x36b765(0x1ea));return{'userCards':_0x1d1fe0,'assistantCards':_0x3016a5};}if(_0x33fd2a==='claude'){const _0x2ab53c=document[_0x36b765(0x165)](_0x36b765(0x171)),_0x475319=[..._0x2ab53c][_0x36b765(0x1e2)]((_0x3d44b8,_0x5c6b94)=>_0x5c6b94%0x2===0x0),_0x170847=[..._0x2ab53c][_0x36b765(0x1e2)]((_0x325cda,_0x59d850)=>_0x59d850%0x2!==0x0);return{'userCards':_0x475319,'assistantCards':_0x170847};}if(_0x33fd2a==='gemini'){const _0x47168d=document['querySelectorAll'](_0x36b765(0x187)),_0x168b14=[..._0x47168d][_0x36b765(0x19f)](_0x4f8a9d=>_0x4f8a9d[_0x36b765(0x1f6)](_0x36b765(0x1bd))),_0x16f44c=[..._0x47168d]['map'](_0x6cdfae=>_0x6cdfae[_0x36b765(0x1f6)](_0x36b765(0x18c)));return{'userCards':_0x168b14,'assistantCards':_0x16f44c};}return{'userCards':[],'assistantCards':[]};}async function seekConversationNodeGPT(_0x302164){const _0x1919a4=a0_0x3f5b8c,_0x5e7d50=new Set(),{userCards:_0x4b6b84,assistantCards:_0x43c80f}=getSelector(_0x302164),_0x458165=Math[_0x1919a4(0x19e)](_0x4b6b84[_0x1919a4(0x1ac)],_0x43c80f[_0x1919a4(0x1ac)]);for(let _0x26ecea=0x0;_0x26ecea<_0x458165;_0x26ecea++){const _0x1dd67e=_0x4b6b84[_0x26ecea]['innerText'],_0x4b1cdb=_0x43c80f[_0x26ecea][_0x1919a4(0x204)];if(!_0x4b1cdb)continue;_0x5e7d50[_0x1919a4(0x1c3)](formatNode(_0x1dd67e,_0x4b1cdb));}return await waitingQueueGPT[_0x1919a4(0x1c3)](_0x5e7d50),_0x5e7d50;}function createContextList(_0xf13bd3){const _0x52c8f9=a0_0x3f5b8c,{logoURL:_0x5469a2,tickURL:_0x2e3cbb,crossURL:_0x2798de,toggleLogoURL:_0x3405e6}=getPlatformIcons(_0xf13bd3);let _0x233fa9=0x0,_0x32a9c8=null;const _0x2c8fba={'cardBg':_0x52c8f9(0x1b6),'textColor':_0x52c8f9(0x159),'accentColor':_0x52c8f9(0x17d),'background':_0x52c8f9(0x155),'contextTitleFontSize':_0x52c8f9(0x179),'contextCounterFontSize':_0x52c8f9(0x1c0),'cardWidth':'450px'};function _0x1a102e(_0x4853b2,_0x485e93){const _0x286ae3=_0x52c8f9,_0x1448b9=document[_0x286ae3(0x1be)](_0x286ae3(0x1da)),_0x1a4735=_0x4853b2[_0x286ae3(0x206)](_0x286ae3(0x174)),_0x4edbd3=_0x1a4735[0x0]||'',_0x2c0274=_0x1a4735[0x1]||'',_0x52a4e3=Math[_0x286ae3(0x205)](_0x2c0274['length']/0x2),_0x26d1d0=_0x2c0274[_0x286ae3(0x189)](0x0,_0x52a4e3);let _0x2ebada=![];Object[_0x286ae3(0x1d7)](_0x1448b9[_0x286ae3(0x1f4)],{'background':_0x2c8fba[_0x286ae3(0x1a9)],'color':_0x2c8fba[_0x286ae3(0x1b7)],'borderRadius':_0x286ae3(0x15e),'padding':_0x286ae3(0x1e4),'width':_0x2c8fba['cardWidth'],'display':'flex','alignItems':_0x286ae3(0x1a5),'justifyContent':_0x286ae3(0x196),'marginBottom':'13px','boxShadow':_0x286ae3(0x1c1),'opacity':'0','transform':_0x286ae3(0x14d),'transition':_0x286ae3(0x166),'cursor':_0x286ae3(0x1ef)}),requestAnimationFrame(()=>{const _0x1407b5=_0x286ae3;_0x1448b9[_0x1407b5(0x1f4)][_0x1407b5(0x15d)]='1',_0x1448b9[_0x1407b5(0x1f4)][_0x1407b5(0x1d1)]=_0x1407b5(0x1bf);});const _0x7878c6=document[_0x286ae3(0x1be)](_0x286ae3(0x1da));Object['assign'](_0x7878c6[_0x286ae3(0x1f4)],{'display':'flex','gap':_0x286ae3(0x203),'alignItems':_0x286ae3(0x1a5),'flex':'1'});const _0x11d1de=document['createElement'](_0x286ae3(0x20e));_0x11d1de[_0x286ae3(0x1f8)]=_0x5469a2,Object[_0x286ae3(0x1d7)](_0x11d1de[_0x286ae3(0x1f4)],{'width':_0x286ae3(0x209),'height':_0x286ae3(0x209),'objectFit':_0x286ae3(0x1f5),'flexShrink':'0'});const _0x3b89fa=document[_0x286ae3(0x1be)](_0x286ae3(0x1da)),_0x2f042b=document['createElement'](_0x286ae3(0x1da));_0x2f042b['textContent']=extractRelevantTitle(_0x4853b2),Object[_0x286ae3(0x1d7)](_0x2f042b['style'],{'fontSize':_0x2c8fba[_0x286ae3(0x1d0)],'fontWeight':_0x286ae3(0x176),'maxWidth':_0x286ae3(0x1fb)});const _0x589b43=document['createElement'](_0x286ae3(0x1da));_0x589b43[_0x286ae3(0x17b)]=_0x286ae3(0x1b3)+_0x485e93,Object[_0x286ae3(0x1d7)](_0x589b43[_0x286ae3(0x1f4)],{'fontSize':_0x286ae3(0x194),'color':'#9d9ea2','marginTop':_0x286ae3(0x185)}),_0x3b89fa[_0x286ae3(0x1ee)](_0x2f042b),_0x3b89fa[_0x286ae3(0x1ee)](_0x589b43),_0x7878c6[_0x286ae3(0x1ee)](_0x11d1de),_0x7878c6['appendChild'](_0x3b89fa);const _0x3c58b1=document[_0x286ae3(0x1be)](_0x286ae3(0x1da));Object[_0x286ae3(0x1d7)](_0x3c58b1[_0x286ae3(0x1f4)],{'display':_0x286ae3(0x210),'alignItems':_0x286ae3(0x1a5),'gap':_0x286ae3(0x1c0),'flexShrink':'0'});const _0x2cebcd=document[_0x286ae3(0x1be)]('img');_0x2cebcd[_0x286ae3(0x1f8)]=_0x2e3cbb,Object[_0x286ae3(0x1d7)](_0x2cebcd[_0x286ae3(0x1f4)],{'width':'36px','height':_0x286ae3(0x202),'padding':_0x286ae3(0x185),'cursor':'pointer'}),_0x2cebcd[_0x286ae3(0x1eb)]=_0x3c6cee=>{const _0x48ad09=_0x286ae3;_0x3c6cee[_0x48ad09(0x20d)](),waitingQueueGPT[_0x48ad09(0x1e5)](_0x4853b2),Object[_0x48ad09(0x1d7)](_0x1448b9['style'],{'opacity':'0','transform':_0x48ad09(0x1aa)}),setTimeout(()=>_0x1448b9[_0x48ad09(0x1ff)](),0x12c);};const _0x585955=document[_0x286ae3(0x1be)](_0x286ae3(0x20e));_0x585955[_0x286ae3(0x1f8)]=_0x2798de,Object['assign'](_0x585955['style'],{'width':'26px','height':_0x286ae3(0x201),'cursor':_0x286ae3(0x1ef)}),_0x585955[_0x286ae3(0x1eb)]=_0x273be0=>{const _0x556187=_0x286ae3;_0x273be0['stopPropagation'](),Object[_0x556187(0x1d7)](_0x1448b9[_0x556187(0x1f4)],{'opacity':'0','transform':_0x556187(0x153)}),setTimeout(()=>_0x1448b9[_0x556187(0x1ff)](),0x12c);},_0x3c58b1[_0x286ae3(0x1ee)](_0x2cebcd),_0x3c58b1['appendChild'](_0x585955),_0x1448b9[_0x286ae3(0x1ee)](_0x7878c6),_0x1448b9['appendChild'](_0x3c58b1),_0x1448b9['onclick']=()=>{_0x32a9c8&&_0x32a9c8!==_0x1448b9&&_0x96294e(_0x32a9c8),_0x2ebada?_0x96294e(_0x1448b9):_0x19e443(_0x1448b9);};function _0x19e443(_0x3e3a62){const _0x4b8e03=_0x286ae3;_0x2ebada=!![],_0x32a9c8=_0x3e3a62;const _0x2be650=document['createElement'](_0x4b8e03(0x1da));Object['assign'](_0x2be650[_0x4b8e03(0x1f4)],{'fontSize':_0x4b8e03(0x15f),'color':_0x4b8e03(0x184),'marginTop':_0x4b8e03(0x179),'paddingTop':'15px','borderTop':_0x4b8e03(0x182),'maxHeight':'200px','overflowY':'auto','lineHeight':_0x4b8e03(0x178),'whiteSpace':'pre-wrap','wordWrap':'break-word'}),_0x2be650[_0x4b8e03(0x17b)]=_0x26d1d0,_0x2be650[_0x4b8e03(0x207)][_0x4b8e03(0x1c3)]('expanded-content'),_0x3e3a62[_0x4b8e03(0x1ee)](_0x2be650),_0x3e3a62[_0x4b8e03(0x1f4)][_0x4b8e03(0x1d9)]=_0x4b8e03(0x16c),_0x3e3a62[_0x4b8e03(0x1f4)][_0x4b8e03(0x1fd)]=_0x4b8e03(0x180);}function _0x96294e(_0x2b18ff){const _0x316d64=_0x286ae3;_0x2ebada=![];const _0x1a7154=_0x2b18ff['querySelector'](_0x316d64(0x192));_0x1a7154&&_0x1a7154[_0x316d64(0x1ff)](),_0x2b18ff['style'][_0x316d64(0x1fd)]=_0x316d64(0x177),_0x32a9c8===_0x2b18ff&&(_0x32a9c8=null);}return _0x1448b9;}const _0x549897=document[_0x52c8f9(0x1be)](_0x52c8f9(0x1da));Object['assign'](_0x549897[_0x52c8f9(0x1f4)],{'background':_0x52c8f9(0x1ba),'padding':_0x52c8f9(0x160),'height':_0x52c8f9(0x198),'maxHeight':_0x52c8f9(0x198),'width':'490px','display':_0x52c8f9(0x1cf),'overflowX':'hidden','overflowY':_0x52c8f9(0x1cc),'position':_0x52c8f9(0x1cd),'top':_0x52c8f9(0x20b),'right':_0x52c8f9(0x1d2),'transform':_0x52c8f9(0x1d5),'opacity':'0','pointerEvents':_0x52c8f9(0x1a0),'zIndex':_0x52c8f9(0x1ed),'borderRadius':_0x52c8f9(0x15e),'transition':'all\x200.45s\x20cubic-bezier(.22,.61,.36,1)'}),document[_0x52c8f9(0x181)]['appendChild'](_0x549897);let _0x1ebbd7=![];function _0x47b00f(){const _0x5b3ab8=_0x52c8f9;_0x1ebbd7=!_0x1ebbd7,_0x1ebbd7?(scrollListenerActive=!![],_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x1d9)]=_0x5b3ab8(0x186),_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x1a1)]=_0x5b3ab8(0x1b8),_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x1d1)]=_0x5b3ab8(0x18f),_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x15d)]=_0x5b3ab8(0x1b1),_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x197)]=_0x5b3ab8(0x177),requestAnimationFrame(()=>{const _0x3cdc5f=_0x5b3ab8;_0x549897[_0x3cdc5f(0x1f4)][_0x3cdc5f(0x1d1)]=_0x3cdc5f(0x1a7),_0x549897[_0x3cdc5f(0x1f4)][_0x3cdc5f(0x15d)]='1';}),disableProseMirrorInput(AI_PLATFORM)):(scrollListenerActive=![],_0x549897['style'][_0x5b3ab8(0x1d9)]=_0x5b3ab8(0x17f),_0x549897[_0x5b3ab8(0x1f4)][_0x5b3ab8(0x1a1)]=_0x5b3ab8(0x1b8),_0x549897['style']['transform']=_0x5b3ab8(0x18f),_0x549897[_0x5b3ab8(0x1f4)]['opacity']='0',setTimeout(()=>{const _0xc45813=_0x5b3ab8;_0x549897['style']['pointerEvents']='none',_0x549897[_0xc45813(0x1f4)][_0xc45813(0x1d1)]=_0xc45813(0x1d5);},0x1f4),enableProseMirrorInput(AI_PLATFORM));}const _0x165402=document[_0x52c8f9(0x1be)](_0x52c8f9(0x1da));Object[_0x52c8f9(0x1d7)](_0x165402[_0x52c8f9(0x1f4)],{'position':_0x52c8f9(0x1cd),'bottom':_0x52c8f9(0x190),'right':'28px','width':_0x52c8f9(0x1db),'height':_0x52c8f9(0x1db),'borderRadius':_0x52c8f9(0x20b),'cursor':'pointer','zIndex':_0x52c8f9(0x16d)});const _0x231f17=document[_0x52c8f9(0x1be)](_0x52c8f9(0x20e));return _0x231f17[_0x52c8f9(0x1f8)]=_0x3405e6,Object[_0x52c8f9(0x1d7)](_0x231f17['style'],{'width':_0x52c8f9(0x1d3),'height':_0x52c8f9(0x1d3),'objectFit':_0x52c8f9(0x1f5)}),_0x165402[_0x52c8f9(0x1ee)](_0x231f17),document[_0x52c8f9(0x181)][_0x52c8f9(0x1ee)](_0x165402),_0x165402[_0x52c8f9(0x1eb)]=_0x47b00f,{'container':_0x549897,'createCard':_0x1a102e};}let buttonCounter=0x0,snapShot=[],scrollListenerActive=![];const {container,createCard}=createContextList(AI_PLATFORM),fetchAvailableContext=async()=>{const _0x95727f=a0_0x3f5b8c;if(!scrollListenerActive)return;const _0x143b90=window['location'][_0x95727f(0x158)];await seekConversationNodeGPT(findPlatform(_0x143b90));if(waitingQueueGPT[_0x95727f(0x1d8)]()){const _0x4f25f6=waitingQueueGPT['getQueue'](),_0x4fb866=_0x4f25f6[_0x95727f(0x1e2)](_0x47dd6b=>!snapShot[_0x95727f(0x1a6)](_0x47dd6b));snapShot=[..._0x4f25f6],buttonCounter=_0x4fb866[_0x95727f(0x1ac)];for(let _0x3f6663=0x0;_0x3f6663<buttonCounter;_0x3f6663++){container['appendChild'](createCard(_0x4fb866[_0x3f6663],_0x3f6663+0x1));}}};document['addEventListener']('scroll',fetchAvailableContext,!![]),chrome[a0_0x3f5b8c(0x162)]['onMessage'][a0_0x3f5b8c(0x1b4)]((_0x35c52d,_0x2b92b9,_0x79eea9)=>{const _0x1d7c09=a0_0x3f5b8c;if(_0x35c52d['action']==_0x1d7c09(0x1c6))console['log'](_0x1d7c09(0x163)),injectCode(_0x35c52d[_0x1d7c09(0x1b2)]);else{if(_0x35c52d[_0x1d7c09(0x1e7)]==_0x1d7c09(0x156))return injectSummary(_0x35c52d['url'])[_0x1d7c09(0x193)](()=>{_0x79eea9({'success':!![]});})[_0x1d7c09(0x161)](()=>{_0x79eea9({'success':![]});}),!![];else{if(_0x35c52d[_0x1d7c09(0x1e7)]==_0x1d7c09(0x15b))return deleteStorage(_0x35c52d['payload'][_0x1d7c09(0x1b2)]),!![];else{if(_0x35c52d[_0x1d7c09(0x1e7)]==_0x1d7c09(0x173))return injectLastSummary(_0x35c52d['url']),!![];}}}});function a0_0x3726(){const _0x282f29=['img','1647498mjODtA','flex','keydown','Content.js\x20loaded','translateY(20px)','All\x20deleted\x20from\x20','location','error','assets/cross.svg','addEventListener','scale(0.85)','indexOf','#1F1D1D','prepareSummary','returnValue','href','#ffffff','removeEventListener','clear','API\x20request\x20failed\x20with\x20status\x20','opacity','24px','12px','30px\x2020px','catch','runtime','Inject\x20Raw','\x20last_summary','querySelectorAll','all\x200.35s\x20ease','getQueue','20YoWOJl','gemini.google.com','74722XCGVYv','chatgpt','all\x200.4s\x20ease','99999','\x20with\x20selector:\x20','|Response->|','trim','body\x20>\x20div.root\x20>\x20div\x20>\x20div.w-full.relative.min-w-0\x20>\x20div\x20>\x20div.h-full.flex.flex-col.overflow-hidden\x20>\x20div\x20>\x20div\x20>\x20div\x20>\x20div.flex-1.flex.flex-col.px-4.max-w-3xl.mx-auto.w-full.pt-1\x20>\x20div[data-test-render-count]','14bSuBDe','injectLastSummary','\x20|Response->|\x20','input','400','auto','1.5','15px','warn','textContent','setSelectionRange','#4f7cff','isContentEditable','transform\x200.5s\x20cubic-bezier(0.4,\x200.0,\x200.2,\x201),\x20opacity\x200.3s\x20ease\x200.2s','300px','body','1px\x20solid\x20#333','get','#d0d0d0','6px','transform\x200.5s\x20cubic-bezier(0.4,\x200.0,\x200.2,\x201),\x20opacity\x200.3s\x20ease','#chat-history\x20infinite-scroller\x20>\x20div:has(user-query):has(model-response)','chatgpt.com','substring','3250032COdPgV','dispatchEvent','model-response','slice','selectNodeContents','translateY(calc(50vh\x20-\x2050%))\x20translateX(0)\x20scale(0.05)','22px','article','.expanded-content','then','16px','Saved\x20new\x20node:','space-between','pointerEvents','60vh','join','assets/gemini.svg','assets/chatgpt.svg','88044cgDRIy','result','min','map','none','transformOrigin','log','POST','Get\x20editor\x20error:','center','includes','translateY(-50%)\x20translateX(0)\x20scale(1)','addRange','cardBg','translateX(60px)','flush','length','No\x20nodes\x20found\x20in\x20storage\x20for\x20this\x20URL','storage','Here\x20is\x20some\x20persistent\x20user\x20context\x20you\x20should\x20always\x20consider:\x0a\x0a','Editor\x20not\x20found\x20for\x20','0.3','url','Context:\x20','addListener','gemini','#111','textColor','bottom\x20right','900yTBwRg','rgba(0,\x200,\x200,\x200.65)','value','change','user-query','createElement','translateY(0)','10px','0\x204px\x2020px\x20rgba(0,0,0,0.35)','207392PkTXtJ','add','prevQueueSig','application/json','injectRaw','json','\x0a\x0aUser\x27s\x20query:\x0a\x0a','Getting\x20you\x20summary\x20........','drop','Set\x20input\x20text\x20error:','scroll','fixed','Deleted\x20all\x20stored\x20data\x20for\x20URL:\x20','inline-block','contextTitleFontSize','transform','20px','100%','queue','translateY(0)\x20scale(0.92)','rich-textarea\x20.ql-editor','assign','hasChanged','transition','div','60px','616411WTqepc','Error\x20in\x20prepareSummary:','stringify','getURL','beforeinput','3fdAajm','filter','set','20px\x2010px','releaseToStorage','turn','action','focus','Failed\x20to\x20inject\x20context:','assistant','onclick','3371454xZjHEL','99998','appendChild','pointer','Place\x20cursor\x20error:','claude.ai','claude','div.root\x20[role=\x27textbox\x27]','style','contain','querySelector','isArray','src','getElementById','Failed\x20to\x20inject\x20code:','480px','status','minHeight','assets/claude.svg','remove','paste','26px','36px','18px','innerText','floor','split','classList','dataset','35px','local','50%','removeAllRanges','stopPropagation'];a0_0x3726=function(){return _0x282f29;};return a0_0x3726();}function getEditor(_0x179554){const _0x50ea52=a0_0x3f5b8c;try{let _0x1e2847='';switch(_0x179554){case _0x50ea52(0x16b):_0x1e2847='#prompt-textarea';break;case _0x50ea52(0x1f2):_0x1e2847='div[contenteditable=\x22true\x22][data-testid=\x22chat-input\x22]';break;case _0x50ea52(0x1b5):_0x1e2847='div.ql-editor.textarea[contenteditable=\x27true\x27]';break;}const _0x29ab44=document['querySelector'](_0x1e2847);return!_0x29ab44&&console[_0x50ea52(0x17a)](_0x50ea52(0x1b0)+_0x179554+_0x50ea52(0x16e)+_0x1e2847),_0x29ab44;}catch(_0xaa3667){return console[_0x50ea52(0x150)](_0x50ea52(0x1a4),_0xaa3667),null;}}function injectContext(_0x26933e,_0x30def0){const _0x46fe22=a0_0x3f5b8c;try{const _0x389c02=getEditor(_0x26933e);if(!_0x389c02)return;const _0x36e575=getInputText(_0x389c02),_0x36d519=_0x46fe22(0x1af)+_0x30def0+_0x46fe22(0x1c8)+_0x36e575;setInputText(_0x389c02,_0x36d519),placeCursorAtEnd(_0x389c02);}catch(_0x2e7352){console[_0x46fe22(0x150)](_0x46fe22(0x1e9),_0x2e7352);}}function getInputText(_0x23aef0){const _0x30e36a=a0_0x3f5b8c;try{if(!_0x23aef0)return'';if(_0x23aef0['isContentEditable'])return _0x23aef0[_0x30e36a(0x204)]?.[_0x30e36a(0x170)]()||'';return _0x23aef0[_0x30e36a(0x1bb)]?.['trim']()||'';}catch(_0x3799de){return console[_0x30e36a(0x17a)]('Get\x20input\x20text\x20error:',_0x3799de),'';}}function setInputText(_0x4da554,_0x5998c9){const _0x31ce61=a0_0x3f5b8c;try{if(!_0x4da554)return;if(_0x4da554[_0x31ce61(0x17e)]){_0x4da554[_0x31ce61(0x204)]=_0x5998c9;const _0x4c6dd9=new Event(_0x31ce61(0x175),{'bubbles':!![]});_0x4da554['dispatchEvent'](_0x4c6dd9);return;}_0x4da554[_0x31ce61(0x1bb)]=_0x5998c9;const _0x3060a9=new Event('input',{'bubbles':!![]}),_0x3fbdb7=new Event(_0x31ce61(0x1bc),{'bubbles':!![]});_0x4da554['dispatchEvent'](_0x3060a9),_0x4da554[_0x31ce61(0x18b)](_0x3fbdb7);}catch(_0x2904d2){console[_0x31ce61(0x150)](_0x31ce61(0x1cb),_0x2904d2);}}function placeCursorAtEnd(_0x3b99ce){const _0x43306a=a0_0x3f5b8c;try{if(!_0x3b99ce)return;_0x3b99ce['focus']();if(_0x3b99ce['isContentEditable']){const _0x3c2c84=document['createRange'](),_0x474538=window['getSelection']();_0x3c2c84[_0x43306a(0x18e)](_0x3b99ce),_0x3c2c84['collapse'](![]),_0x474538[_0x43306a(0x20c)](),_0x474538[_0x43306a(0x1a8)](_0x3c2c84);return;}if(_0x3b99ce[_0x43306a(0x17c)]){const _0x560c0b=_0x3b99ce[_0x43306a(0x1bb)][_0x43306a(0x1ac)];_0x3b99ce[_0x43306a(0x17c)](_0x560c0b,_0x560c0b);}}catch(_0x4bb0d2){console['warn'](_0x43306a(0x1f0),_0x4bb0d2);}}async function injectCode(_0x9f5ef8){const _0x11cb82=a0_0x3f5b8c;try{const _0x816884=await getStorage(_0x9f5ef8);injectContext(AI_PLATFORM,_0x816884[_0x11cb82(0x199)](''));}catch(_0x136e8c){console['error'](_0x11cb82(0x1fa),_0x136e8c);}}async function injectSummary(_0x2df88f){const _0xe13f8b=a0_0x3f5b8c;try{const _0x318176=await prepareSummary(_0x2df88f),_0x3dc7f1=await insertSummaryIntoChromeStorage(_0x318176,_0x2df88f);console[_0xe13f8b(0x1a2)]('Was\x20summary\x20stored?',_0x3dc7f1);const _0x152b41=await getStoredSummary(_0x2df88f);console[_0xe13f8b(0x1a2)]('Got\x20stored\x20summary:',_0x152b41),injectContext(AI_PLATFORM,_0x152b41);}catch(_0x1342f4){console['error'](_0xe13f8b(0x1fa),_0x1342f4);}}async function injectLastSummary(_0x58af2e){const _0x54ebb3=a0_0x3f5b8c;try{const _0x236a78=await getStoredSummary(_0x58af2e);injectContext(AI_PLATFORM,_0x236a78);}catch(_0x598856){console[_0x54ebb3(0x150)](_0x54ebb3(0x1fa),_0x598856);}}